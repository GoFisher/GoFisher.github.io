{
    "version": "https://jsonfeed.org/version/1",
    "title": "余心所善，九死未悔！ • All posts by \"5.配置时间同步服务\" category",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2020/11/22/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/%E9%85%8D%E7%BD%AE%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1/",
            "url": "http://example.com/2020/11/22/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/%E9%85%8D%E7%BD%AE%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1/",
            "title": "5.配置时间同步服务",
            "date_published": "2020-11-22T09:29:52.839Z",
            "content_html": "<h1 id=\"配置时间同步服务\"><a class=\"anchor\" href=\"#配置时间同步服务\">#</a> 配置时间同步服务</h1>\n<p>NTP 是用来使计算机时间同步化的一种协议，它可以使计算机对其服务器或时钟源做同步化，提供高精准度的时间校正。Hadoop 集群对时间要求很高，主节点与各从节点的时间都必须要同步。配置时间同步服务主要是为了进行集群间的时间同步。Hadoop 集群配置时间同步服务的步骤如下：</p>\n<ul>\n<li>\n<p>（1）安装 NTP 服务。在 master、slave1 和 slave2 节点：<br />\n<figure class=\"highlight bash\"><figcaption><span>安装NTP服务</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@master ~]<span class=\"comment\"># yum -y install ntp</span></span><br><span class=\"line\">Loaded plugins: fastestmirror</span><br><span class=\"line\">Loading mirror speeds from cached hostfile</span><br><span class=\"line\">Setting up Install Process</span><br><span class=\"line\">Resolving Dependencies</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package ntp.x86_64 0:4.2.6p5-15.el6.centos will be installed</span><br><span class=\"line\">--&gt; Processing Dependency: ntpdate = 4.2.6p5-15.el6.centos <span class=\"keyword\">for</span> package: ntp-4.2.6p5-15.el6.centos.x86_64</span><br><span class=\"line\">--&gt; Running transaction check</span><br><span class=\"line\">---&gt; Package ntpdate.x86_64 0:4.2.6p5-15.el6.centos will be installed</span><br><span class=\"line\">--&gt; Finished Dependency Resolution</span><br><span class=\"line\"></span><br><span class=\"line\">Dependencies Resolved</span><br><span class=\"line\"></span><br><span class=\"line\">========================================================================================</span><br><span class=\"line\"> Package          Arch            Version                        Repository        Size</span><br><span class=\"line\">========================================================================================</span><br><span class=\"line\">Installing:</span><br><span class=\"line\"> ntp              x86_64          4.2.6p5-15.el6.centos          updates          600 k</span><br><span class=\"line\">Installing <span class=\"keyword\">for</span> dependencies:</span><br><span class=\"line\"> ntpdate          x86_64          4.2.6p5-15.el6.centos          updates           79 k</span><br><span class=\"line\"></span><br><span class=\"line\">Transaction Summary</span><br><span class=\"line\">========================================================================================</span><br><span class=\"line\">Install       2 Package(s)</span><br><span class=\"line\"></span><br><span class=\"line\">Total download size: 679 k</span><br><span class=\"line\">Installed size: 1.8 M</span><br><span class=\"line\">Downloading Packages:</span><br><span class=\"line\">(1/2): ntp-4.2.6p5-15.el6.centos.x86_64.rpm                      | 600 kB     03:13     </span><br><span class=\"line\">(2/2): ntpdate-4.2.6p5-15.el6.centos.x86_64.rpm                  |  79 kB     00:04     </span><br><span class=\"line\">----------------------------------------------------------------------------------------</span><br><span class=\"line\">Total                                                   3.4 kB/s | 679 kB     03:19     </span><br><span class=\"line\">warning: rpmts_HdrFromFdno: Header V3 RSA/SHA1 Signature, key ID c105b9de: NOKEY</span><br><span class=\"line\">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</span><br><span class=\"line\">Importing GPG key 0xC105B9DE:</span><br><span class=\"line\"> Userid : CentOS-6 Key (CentOS 6 Official Signing Key) &lt;centos-6-key@centos.org&gt;</span><br><span class=\"line\"> Package: centos-release-6-5.el6.centos.11.1.x86_64 (@anaconda-CentOS-201311272149.x86_64/6.5)</span><br><span class=\"line\"> From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</span><br><span class=\"line\">Running rpm_check_debug</span><br><span class=\"line\">Running Transaction Test</span><br><span class=\"line\">Transaction Test Succeeded</span><br><span class=\"line\">Running Transaction</span><br><span class=\"line\">  Installing : ntpdate-4.2.6p5-15.el6.centos.x86_64                                 1/2 </span><br><span class=\"line\">  Installing : ntp-4.2.6p5-15.el6.centos.x86_64                                     2/2 </span><br><span class=\"line\">  Verifying  : ntpdate-4.2.6p5-15.el6.centos.x86_64                                 1/2 </span><br><span class=\"line\">  Verifying  : ntp-4.2.6p5-15.el6.centos.x86_64                                     2/2 </span><br><span class=\"line\"></span><br><span class=\"line\">Installed:</span><br><span class=\"line\">  ntp.x86_64 0:4.2.6p5-15.el6.centos                                                    </span><br><span class=\"line\"></span><br><span class=\"line\">Dependency Installed:</span><br><span class=\"line\">  ntpdate.x86_64 0:4.2.6p5-15.el6.centos                                                </span><br><span class=\"line\"></span><br><span class=\"line\">Complete!</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>（2）设置 master 节点为 NTP 服务主节点，那么其配置如下。<br />\n使用命令 “vi /etc/ntp.conf” 打开 /etc/ntp.conf 文件，注释掉以 server 开头的行，并添加:<br />\n<figure class=\"highlight bash\"><figcaption><span>添加的信息</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">restrict 192.168.128.2 mask 255.255.255.0 nomodify notrap</span><br><span class=\"line\">server 127.127.1.0</span><br><span class=\"line\">fudge 127.127.1.0 stratum 10</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<p><figure class=\"highlight bash\"><figcaption><span>/etc/ntp.conf文件信息</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Permit all access over the loopback interface.  This could</span></span><br><span class=\"line\"><span class=\"comment\"># be tightened as well, but to do so would effect some of</span></span><br><span class=\"line\"><span class=\"comment\"># the administrative functions.</span></span><br><span class=\"line\">restrict 127.0.0.1</span><br><span class=\"line\">restrict -6 ::1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Hosts on local network are less restricted.</span></span><br><span class=\"line\"><span class=\"comment\">#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Use public servers from the pool.ntp.org project.</span></span><br><span class=\"line\"><span class=\"comment\"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span></span><br><span class=\"line\">server 0.centos.pool.ntp.org iburst</span><br><span class=\"line\">server 1.centos.pool.ntp.org iburst</span><br><span class=\"line\">server 2.centos.pool.ntp.org iburst</span><br><span class=\"line\">server 3.centos.pool.ntp.org iburst</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#broadcast 192.168.1.255 autokey        # broadcast server</span></span><br><span class=\"line\"><span class=\"comment\">#broadcastclient                        # broadcast client</span></span><br><span class=\"line\"><span class=\"comment\">#broadcast 224.0.1.1 autokey            # multicast server</span></span><br><span class=\"line\"><span class=\"comment\">#multicastclient 224.0.1.1              # multicast client</span></span><br><span class=\"line\"><span class=\"comment\">#manycastserver 239.255.254.254         # manycast server</span></span><br><span class=\"line\"><span class=\"comment\">#manycastclient 239.255.254.254 autokey # manycast client</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Enable public key cryptography.</span></span><br><span class=\"line\"><span class=\"comment\">#crypto</span></span><br></pre></td></tr></table></figure></p>\n<p><figure class=\"highlight bash\"><figcaption><span>修改后的/etc/ntp.conf文件信息</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Permit all access over the loopback interface.  This could</span></span><br><span class=\"line\"><span class=\"comment\"># be tightened as well, but to do so would effect some of</span></span><br><span class=\"line\"><span class=\"comment\"># the administrative functions.</span></span><br><span class=\"line\">restrict 127.0.0.1</span><br><span class=\"line\">restrict -6 ::1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Hosts on local network are less restricted.</span></span><br><span class=\"line\"><span class=\"comment\">#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Use public servers from the pool.ntp.org project.</span></span><br><span class=\"line\"><span class=\"comment\"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span></span><br><span class=\"line\"><span class=\"comment\">#server 0.centos.pool.ntp.org iburst</span></span><br><span class=\"line\"><span class=\"comment\">#server 1.centos.pool.ntp.org iburst</span></span><br><span class=\"line\"><span class=\"comment\">#server 2.centos.pool.ntp.org iburst</span></span><br><span class=\"line\"><span class=\"comment\">#server 3.centos.pool.ntp.org iburst</span></span><br><span class=\"line\">restrict 192.168.146.2 mask 255.255.255.0 nomodify notrap  <span class=\"comment\"># 修改对应的ip地址</span></span><br><span class=\"line\">  server 127.127.1.0</span><br><span class=\"line\">  fudge 127.127.1.0 stratum 10</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#broadcast 192.168.1.255 autokey        # broadcast server</span></span><br><span class=\"line\"><span class=\"comment\">#broadcastclient                        # broadcast client</span></span><br><span class=\"line\"><span class=\"comment\">#broadcast 224.0.1.1 autokey            # multicast server</span></span><br><span class=\"line\"><span class=\"comment\">#multicastclient 224.0.1.1              # multicast client</span></span><br><span class=\"line\"><span class=\"comment\">#manycastserver 239.255.254.254         # manycast server</span></span><br><span class=\"line\"><span class=\"comment\">#manycastclient 239.255.254.254 autokey # manycast client</span></span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>（3）在 slave1 和 server2 中配置 NTP，同样修改 /etc/ntp.conf 文件，注释掉 server 开头的行，并添加:<br />\n<figure class=\"highlight bash\"><figcaption><span>修改/etc/ntp.conf文件</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># vi /etc/ntp.conf</span></span><br><span class=\"line\"><span class=\"comment\"># the administrative functions.</span></span><br><span class=\"line\">restrict 127.0.0.1</span><br><span class=\"line\">restrict -6 ::1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Hosts on local network are less restricted.</span></span><br><span class=\"line\"><span class=\"comment\">#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Use public servers from the pool.ntp.org project.</span></span><br><span class=\"line\"><span class=\"comment\"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span></span><br><span class=\"line\"><span class=\"comment\">#server 0.centos.pool.ntp.org iburst</span></span><br><span class=\"line\"><span class=\"comment\">#server 1.centos.pool.ntp.org iburst</span></span><br><span class=\"line\"><span class=\"comment\">#server 2.centos.pool.ntp.org iburst</span></span><br><span class=\"line\"><span class=\"comment\">#server 3.centos.pool.ntp.org iburst</span></span><br><span class=\"line\">server master</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#broadcast 192.168.1.255 autokey        # broadcast server</span></span><br><span class=\"line\"><span class=\"comment\">#broadcastclient                        # broadcast client</span></span><br><span class=\"line\"><span class=\"comment\">#broadcast 224.0.1.1 autokey            # multicast server</span></span><br><span class=\"line\"><span class=\"comment\">#multicastclient 224.0.1.1              # multicast client</span></span><br><span class=\"line\"><span class=\"comment\">#manycastserver 239.255.254.254         # manycast server</span></span><br><span class=\"line\"><span class=\"comment\">#manycastclient 239.255.254.254 autokey # manycast client</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Enable public key cryptography.</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>（4）在 master、slave1 和 slave2 节点，执行命令 “<strong>service iptables stop &amp; chkconfig iptables off</strong>” 永久性关闭防火墙。</li>\n</ul>\n<p><figure class=\"highlight bash\"><figcaption><span>永久性关闭防火墙</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@master ~]<span class=\"comment\"># service iptables stop &amp; chkconfig iptables off</span></span><br><span class=\"line\">[1] 1268</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># iptables: Setting chains to policy ACCEPT:[  OK  ]</span></span><br><span class=\"line\">iptables: Flushing firewall rules:                         [  OK  ]</span><br><span class=\"line\">iptables: Unloading modules:                               [  OK  ]</span><br><span class=\"line\"></span><br><span class=\"line\">[1]+  Done                    service iptables stop</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># ssh slave1</span></span><br><span class=\"line\">Last login: Mon Nov 23 02:11:26 2020 from 192.168.146.171</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># service iptables stop &amp; chkconfig iptables off</span></span><br><span class=\"line\">[1] 1347</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># exit</span></span><br><span class=\"line\"><span class=\"built_in\">logout</span></span><br><span class=\"line\">Connection to slave1 closed.</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># ssh slave2</span></span><br><span class=\"line\">Last login: Mon Nov 23 01:25:01 2020 from 192.168.146.171</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># service iptables stop &amp; chkconfig iptables off</span></span><br><span class=\"line\">[1] 1228</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># iptables: Setting chains to policy ACCEPT:[  OK  ]</span></span><br><span class=\"line\">iptables: Flushing firewall rules:                         [  OK  ]</span><br><span class=\"line\">iptables: Unloading modules:                               [  OK  ]</span><br><span class=\"line\"></span><br><span class=\"line\">[1]+  Done                    service iptables stop</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># exit</span></span><br><span class=\"line\"><span class=\"built_in\">logout</span></span><br><span class=\"line\">Connection to slave2 closed.</span><br><span class=\"line\">[1]+  Done                    service iptables stop</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>\n<p>（5）启动 NTP 服务。<br />\n① 在 master 节点执行命令 “service ntpd start &amp; chkconfig ntpd on”，碰到卡住回车即可。<br />\n② 在 slave 上执行命令 “ntpdate master” 即可同步时间。<br />\n③ 在 slave 上分别执行 “service ntpd start &amp; chkconfig ntpd on” 即可启动并永久启动。NTP 服务。<br />\n<figure class=\"highlight bash\"><figcaption><span>永久性关闭防火墙</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@master ~]<span class=\"comment\"># ssh slave1</span></span><br><span class=\"line\">Last login: Mon Nov 23 02:18:41 2020 from 192.168.146.171</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># ntpdate master</span></span><br><span class=\"line\">23 Nov 02:22:40 ntpdate[1396]: adjust time server 192.168.146.171 offset 0.488075 sec</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># service ntpd start &amp; chkconfig ntpd on</span></span><br><span class=\"line\">[1] 1411</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># Starting ntpd:                            [  OK  ]</span></span><br><span class=\"line\"></span><br><span class=\"line\">[1]+  Done                    service ntpd start</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># exit</span></span><br><span class=\"line\"><span class=\"built_in\">logout</span></span><br><span class=\"line\">Connection to slave1 closed.</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># ssh slave2</span></span><br><span class=\"line\">Last login: Mon Nov 23 02:22:54 2020 from master</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># ntpdate master</span></span><br><span class=\"line\">23 Nov 02:23:37 ntpdate[1329]: adjust time server 192.168.146.171 offset 0.497395 sec</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># service ntpd start &amp; chkconfig ntpd on</span></span><br><span class=\"line\">[1] 1330</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># Starting ntpd:                            [  OK  ]</span></span><br><span class=\"line\"></span><br><span class=\"line\">[1]+  Done                    service ntpd start</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># exit</span></span><br><span class=\"line\"><span class=\"built_in\">logout</span></span><br><span class=\"line\">Connection to slave2 closed.</span><br><span class=\"line\">[root@master ~]<span class=\"comment\">#</span></span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>（6）查看个节点的时间：时间应该同步，非常接近</p>\n</li>\n</ul>\n<p><figure class=\"highlight bash\"><figcaption><span>节点时间</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@master ~]<span class=\"comment\"># date</span></span><br><span class=\"line\">Mon Nov 23 02:32:52 CST 2020</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># ssh slave1</span></span><br><span class=\"line\">Last login: Mon Nov 23 02:23:11 2020 from master</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># date</span></span><br><span class=\"line\">Mon Nov 23 02:32:57 CST 2020</span><br><span class=\"line\">[root@slave1 ~]<span class=\"comment\"># exit</span></span><br><span class=\"line\"><span class=\"built_in\">logout</span></span><br><span class=\"line\">Connection to slave1 closed.</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># ssh slave2</span></span><br><span class=\"line\">Last login: Sun Nov 22 18:29:36 2020 from 192.168.146.100</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># date</span></span><br><span class=\"line\">Mon Nov 23 02:33:05 CST 2020</span><br><span class=\"line\">[root@slave2 ~]<span class=\"comment\"># exit</span></span><br><span class=\"line\"><span class=\"built_in\">logout</span></span><br><span class=\"line\">Connection to slave2 closed.</span><br><span class=\"line\">[root@master ~]<span class=\"comment\"># </span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n",
            "tags": [
                "大数据技术与应用",
                "Hadoop"
            ]
        }
    ]
}