<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://example.com</id>
    <title> • Posts by &#34;5.克隆节点配置修改&#34; category</title>
    <link href="http://example.com" />
    <updated>2020-12-02T11:33:40.669Z</updated>
    <category term="大数据技术与应用" />
    <category term="Hadoop" />
    <category term="Hive" />
    <entry>
        <id>http://example.com/2020/12/02/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/%E5%85%8B%E9%9A%86%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9/</id>
        <title>5.克隆节点配置修改</title>
        <link rel="alternate" href="http://example.com/2020/12/02/%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/%E5%85%8B%E9%9A%86%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9/"/>
        <content type="html">&lt;h1 id=&#34;克隆节点配置修改&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#克隆节点配置修改&#34;&gt;#&lt;/a&gt; 克隆节点配置修改&lt;/h1&gt;
&lt;p&gt;在虚拟机 master 上安装及配置完成之后，将虚拟机 master 克隆两台虚拟机，得到 slave1 和 slave2，总共三台虚拟机。但是克隆出来的虚拟机需要一定的配置和修改才能使用。&lt;/p&gt;
&lt;h2 id=&#34;克隆master虚拟机&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#克隆master虚拟机&#34;&gt;#&lt;/a&gt; 克隆 master 虚拟机&lt;/h2&gt;
&lt;p&gt;在克隆 master 虚拟机之前需要将&lt;strong&gt; master 虚拟关机&lt;/strong&gt;后才能使用克隆功能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（1）右键单击虚拟机 master，选择 “&lt;strong&gt;管理&lt;/strong&gt;”→“&lt;strong&gt;克隆&lt;/strong&gt;” 命令，来到欢迎使用克隆虚拟机向导的界面，直接单击下一步，如图 5-1、5-2、5-3 所示&lt;/li&gt;
&lt;/ul&gt;
&lt;p class=&#34;gallery&#34; data-height=&#34;180&#34;&gt;&lt;img data-src=&#34;https://s3.ax1x.com/2020/11/22/D8cISK.jpg&#34; alt=&#34;D8cISK.jpg&#34; title=&#34;图5-1 克隆&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://s3.ax1x.com/2020/11/22/D8chJx.jpg&#34; alt=&#34;D8cISK.jpg&#34; title=&#34;图5-2 克隆欢迎界面&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://s3.ax1x.com/2020/11/22/D8cRoR.jpg&#34; alt=&#34;D8cISK.jpg&#34; title=&#34;图5-3 克隆源&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（2）选择 “&lt;strong&gt;创建完整克隆&lt;/strong&gt;” 单击按钮并单击 “下一步” 按钮，如图 5-4 所示。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://s3.ax1x.com/2020/11/22/D8cfF1.jpg&#34; alt=&#34;D8cISK.jpg&#34; title=&#34;图5-4 克隆类型&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（3）设置新虚拟机的名称，新虚拟机名称为 slave1，并选择安装位置，单击完成，虚拟机开始克隆，最后单击 “关闭” 按钮，克隆虚拟机完成，如图 5-5、5-6 所示。&lt;/li&gt;
&lt;/ul&gt;
&lt;p class=&#34;gallery&#34; data-height=&#34;180&#34;&gt;&lt;img data-src=&#34;https://s3.ax1x.com/2020/11/22/D8cRoR.jpg&#34; alt=&#34;D8cISK.jpg&#34; title=&#34;图5-5 克隆源&#34; /&gt;&lt;br /&gt;
&lt;img data-src=&#34;https://s3.ax1x.com/2020/11/22/D8c4W6.jpg&#34; alt=&#34;D8cISK.jpg&#34; title=&#34;图5-6 克隆完成&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（4）重复 1-3 步骤可以得到 slave2 虚拟机。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;克隆虚拟机配置&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#克隆虚拟机配置&#34;&gt;#&lt;/a&gt; 克隆虚拟机配置&lt;/h2&gt;
&lt;p&gt;克隆完成之后的虚拟机，slave1 和 slave2 都是不可以直接使用的，因为克隆的信息都是 master 的信息，需要修改之后才能使用，开启 slave1 虚拟机。&lt;/p&gt;
&lt;p&gt;（1）执行命令 “&lt;strong&gt;ifconfig -a&lt;/strong&gt;”，查看 HWADDR，记录新虚拟机的网卡名和 HWADDR（不同的机器此值是不一样的），例如下面显示的&lt;strong&gt; eth1&lt;/strong&gt; 和 HWaddr：00:0C:29:90:31:E2。&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;查看配置信息&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# ifconfig -a&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;eth1      Link encap:Ethernet  HWaddr 00:0C:29:90:31:E2  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          inet addr:192.168.146.172  Bcast:192.168.146.255  Mask:255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          inet6 addr: fe80::20c:29ff:fe90:31e2/64 Scope:Link&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          RX packets:40 errors:0 dropped:0 overruns:0 frame:0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          TX packets:40 errors:0 dropped:0 overruns:0 carrier:0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          collisions:0 txqueuelen:1000 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          RX bytes:4844 (4.7 KiB)  TX bytes:5039 (4.9 KiB)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;lo        Link encap:Local Loopback  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          inet addr:127.0.0.1  Mask:255.0.0.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          inet6 addr: ::1/128 Scope:Host&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          UP LOOPBACK RUNNING  MTU:16436  Metric:1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          RX packets:0 errors:0 dropped:0 overruns:0 frame:0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          collisions:0 txqueuelen:0 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br /&gt;
（3）修改 /etc/sysconfig/network-scripts/ifcfg-eth0 文件，修改 DEVICE、HWADDR 和 IPADDR，并 service network restart 重启网络服务。&lt;br /&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;修改slave1配置信息&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# vi /etc/sysconfig/network-scripts/ifcfg-eth0 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DEVICE=eth1   &lt;span class=&#34;comment&#34;&gt;#修改成ifconfig -a显示的信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;HWADDR=00:0C:29:90:31:E2    &lt;span class=&#34;comment&#34;&gt;#修改成ifconfig -a显示的信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;TYPE=Ethernet&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;UUID=f994c111-ad55-4c32-8178-6c6069d8818c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NM_CONTROLLED=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=static&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=192.168.146.172  &lt;span class=&#34;comment&#34;&gt;#修改ip&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=192.168.146.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=192.168.146.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# service network restart&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Shutting down interface eth0:                              [  OK  ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Shutting down loopback interface:                          [  OK  ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bringing up loopback interface:                            [  OK  ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bringing up interface eth0:  Determining &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; ip address 192.168.146.172 is already &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; use &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; device eth1...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                                           [  OK  ]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;上述修改完成之后，同样的可以使用 xshell 连接 slave1 节点虚拟机。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;（4）修改主机名，执行命令 “vi /etc/sysconfig/network”，修改的主机名为 “&lt;strong&gt;slave1&lt;/strong&gt;”，重启机器，执行&lt;strong&gt; reboot&lt;/strong&gt; 命令，验证 slave1 主机名是否配置成功。&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;主机名并测试&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# vi /etc/sysconfig/network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETWORKING=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;HOSTNAME=slave1  &lt;span class=&#34;comment&#34;&gt;# 将master修改成mster，并保存退出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# reboot               #重新登录xshell&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;#                   # 主机名已经修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;（4）在 slave1 和 server2 中配置 NTP，同样修改 /etc/ntp.conf 文件，注释掉 server 开头的行，并添加:&lt;br /&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;修改/etc/ntp.conf文件&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# vi /etc/ntp.conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# the administrative functions.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;restrict 127.0.0.1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;restrict -6 ::1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Hosts on local network are less restricted.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Use public servers from the pool.ntp.org project.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Please consider joining the pool (http://www.pool.ntp.org/join.html).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#server 0.centos.pool.ntp.org iburst&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#server 1.centos.pool.ntp.org iburst&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#server 2.centos.pool.ntp.org iburst&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#server 3.centos.pool.ntp.org iburst&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server master&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#broadcast 192.168.1.255 autokey        # broadcast server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#broadcastclient                        # broadcast client&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#broadcast 224.0.1.1 autokey            # multicast server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#multicastclient 224.0.1.1              # multicast client&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#manycastserver 239.255.254.254         # manycast server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#manycastclient 239.255.254.254 autokey # manycast client&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Enable public key cryptography.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;（5）启动 NTP 服务。&lt;br /&gt;
①  在 slave1 和 slave2 上执行命令 “ntpdate master” 即可同步时间。&lt;br /&gt;
②  在 slave1 和 slave2 上执行 “service ntpd start &amp;amp; chkconfig ntpd on” 即可启动并永久启动。NTP 服务。&lt;/p&gt;
&lt;p&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;永久性关闭防火墙&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# ssh slave1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Last login: Mon Nov 23 02:18:41 2020 from 192.168.146.171&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# ntpdate master&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23 Nov 02:22:40 ntpdate[1396]: adjust time server 192.168.146.171 offset 0.488075 sec&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# service ntpd start &amp;amp; chkconfig ntpd on&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[1] 1411&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# Starting ntpd:                            [  OK  ]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[1]+  Done                    service ntpd start&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# exit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;logout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Connection to slave1 closed.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# ssh slave2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Last login: Mon Nov 23 02:22:54 2020 from master&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave2 ~]&lt;span class=&#34;comment&#34;&gt;# ntpdate master&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23 Nov 02:23:37 ntpdate[1329]: adjust time server 192.168.146.171 offset 0.497395 sec&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave2 ~]&lt;span class=&#34;comment&#34;&gt;# service ntpd start &amp;amp; chkconfig ntpd on&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[1] 1330&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave2 ~]&lt;span class=&#34;comment&#34;&gt;# Starting ntpd:                            [  OK  ]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[1]+  Done                    service ntpd start&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave2 ~]&lt;span class=&#34;comment&#34;&gt;# exit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;logout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Connection to slave2 closed.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（6）查看个节点的时间：时间应该同步，非常接近&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;节点时间&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Mon Nov 23 02:32:52 CST 2020&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# ssh slave1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Last login: Mon Nov 23 02:23:11 2020 from master&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Mon Nov 23 02:32:57 CST 2020&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave1 ~]&lt;span class=&#34;comment&#34;&gt;# exit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;logout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Connection to slave1 closed.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# ssh slave2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Last login: Sun Nov 22 18:29:36 2020 from 192.168.146.100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave2 ~]&lt;span class=&#34;comment&#34;&gt;# date&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Mon Nov 23 02:33:05 CST 2020&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@slave2 ~]&lt;span class=&#34;comment&#34;&gt;# exit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;logout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Connection to slave2 closed.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@master ~]&lt;span class=&#34;comment&#34;&gt;# &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
        <category term="大数据技术与应用" />
        <category term="Hadoop" />
        <updated>2020-12-02T11:33:40.669Z</updated>
    </entry>
</feed>
